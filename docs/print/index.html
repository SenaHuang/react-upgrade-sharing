<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><meta name="generator" content="Gatsby 2.19.28"/><title data-react-helmet="true">React升版計畫</title><link as="script" rel="preload" href="/slides/component---node-modules-gatsby-theme-mdx-deck-src-templates-deck-js-9c158c4cd2573c0d89a4.js"/><link as="script" rel="preload" href="/slides/commons-95f555412797381d7b07.js"/><link as="script" rel="preload" href="/slides/app-4154b29252172f1ecf4c.js"/><link as="script" rel="preload" href="/slides/webpack-runtime-59be95610d4d5d8951b4.js"/><link as="fetch" rel="preload" href="/slides/page-data/print/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/slides/page-data/app-data.json" crossorigin="anonymous"/></head><body><script>(function() { try {
        var mode = localStorage.getItem('theme-ui-color-mode');
        if (!mode) return
        document.body.classList.add('theme-ui-' + mode);
      } catch (e) {} })();</script><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion-css="ut8w6s">body{margin:0;overflow:hidden;}</style><style data-emotion-css="bdfrlc">.css-bdfrlc{width:100vw;height:100vh;}.css-bdfrlc *{box-sizing:border-box;}</style><div class="css-bdfrlc"><div style="outline:none;height:100%" tabindex="-1"><style data-emotion-css="nsyrzn">.css-nsyrzn{box-sizing:border-box;width:100%;height:100vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;overflow:hidden;position:relative;color:var(--theme-ui-colors-text,white);background-color:var(--theme-ui-colors-background,#3F4A56);font-family:Roboto,sans-serif;font-size:20px;}@media screen and (min-width:40em){.css-nsyrzn{font-size:24px;}}@media screen and (min-width:52em){.css-nsyrzn{font-size:32px;}}@media screen and (min-width:64em){.css-nsyrzn{font-size:48px;}}</style><div class="css-nsyrzn"><hr class="css-0"/><style data-emotion-css="1djqpdg">.css-1djqpdg{font-family:inherit;line-height:1.125;font-weight:700;}</style><h1 class="css-1djqpdg">React 15.6.2 -&gt; 16.12.0</h1></div><div class="css-nsyrzn"><h2 class="css-1djqpdg">Component 生命週期</h2></div><div class="css-nsyrzn"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><style data-emotion-css="tr3ugc">.css-tr3ugc{color:#D6DEEB;}.css-tr3ugc .token-changed{color:rgb(162,191,252);font-style:italic;}.css-tr3ugc .token-deleted{color:rgba(239,83,80,0.56);font-style:italic;}.css-tr3ugc .token-inserted,.css-tr3ugc .token-attr-name{color:rgb(173,219,103);font-style:italic;}.css-tr3ugc .token-comment{color:rgb(99,119,119);font-style:italic;}.css-tr3ugc .token-string,.css-tr3ugc .token-url{color:rgb(173,219,103);}.css-tr3ugc .token-variable{color:rgb(214,222,235);}.css-tr3ugc .token-number{color:rgb(247,140,108);}.css-tr3ugc .token-builtin,.css-tr3ugc .token-char,.css-tr3ugc .token-constant,.css-tr3ugc .token-function{color:rgb(130,170,255);}.css-tr3ugc .token-selector,.css-tr3ugc .token-doctype{color:rgb(199,146,234);font-style:italic;}.css-tr3ugc .token-class-name{color:rgb(255,203,139);}.css-tr3ugc .token-tag,.css-tr3ugc .token-operator,.css-tr3ugc .token-keyword{color:rgb(127,219,202);}.css-tr3ugc .token-boolean{color:rgb(255,88,116);}.css-tr3ugc .token-property{color:rgb(128,203,196);}.css-tr3ugc .token-namespace{color:rgb(178,204,214);}</style><pre class="cs-content css-tr3ugc" style="margin:0;height:100%;overflow:hidden"><style data-emotion-css="1ofehn3">.css-1ofehn3{color:#D6DEEB;}</style><code class="cs-scaled-content css-1ofehn3" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-number">1.</span><span class="token-plain"> </span><span class="token-method">componentWillMount</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-number">2.</span><span class="token-plain"> </span><span class="token-method">componentWillUpdate</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-number">3.</span><span class="token-plain"> </span><span class="token-method">componentWillReceiveProps</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div></div></code></pre><style data-emotion-css="1qwhhjz">.css-1qwhhjz{position:absolute;bottom:0;width:calc(100% - 2em);box-sizing:border-box;margin:0.3em 1em;padding:0.5em;background:rgba(2,2,2,0.9);text-align:center;color:#D6DEEB;}</style><p class="cs-subtitle css-1qwhhjz" style="opacity:0"><span style="opacity:1"></span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-tr3ugc" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-1ofehn3" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-number">2.</span><span class="token-plain"> </span><span class="token-method">componentWillUpdate</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-number">3.</span><span class="token-plain"> </span><span class="token-method">componentWillReceiveProps</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div></div></code></pre><p class="cs-subtitle css-1qwhhjz" style="opacity:1"><span style="opacity:1">在 mounting 發生前被呼叫</span></p></div></div></div></div></div><div class="css-nsyrzn"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-tr3ugc" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-1ofehn3" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-plain">    </span><span class="token-function">componentWillMount</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">        </span><span class="token-keyword">new</span><span class="token-plain"> </span><span class="token-class-name">Ajax</span><span class="token-punctuation">(</span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">            url</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-string">&#x27;/hrm2/api/company/picker/departments&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">            method</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-string">&#x27;get&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">            </span><span class="token-function-variable">onSuccess</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-punctuation">(</span><span class="token-parameter">code</span><span class="token-punctuation">,</span><span class="token-parameter"> msg</span><span class="token-punctuation">,</span><span class="token-parameter"> data</span><span class="token-punctuation">,</span><span class="token-parameter"> xhr</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-arrow">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">                </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-method">setState</span><span class="token-punctuation">(</span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">                    deps</span><span class="token-operator">:</span><span class="token-plain"> data</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">                </span><span class="token-punctuation">}</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">            </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">        </span><span class="token-punctuation">}</span><span class="token-punctuation">)</span><span class="token-punctuation">.</span><span class="token-method">send</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-plain">    </span><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-tr3ugc" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-1ofehn3" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">            url</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-string">&#x27;/hrm2/api/company/picker/departments&#x27;</span><span class="token-punctuation">,</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">            </span><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div></div></div></div><div class="css-nsyrzn"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-tr3ugc" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-1ofehn3" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-plain">初始化 state</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">    - constructor()</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">setState</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-tr3ugc" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-1ofehn3" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">    - constructor()</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">    - componentDidMount()</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-tr3ugc" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-1ofehn3" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">    - constructor()</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">    - componentDidMount()</span></div></div><div></div></code></pre></div></div></div></div></div><div class="css-nsyrzn"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-tr3ugc" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-1ofehn3" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-number">1.</span><span class="token-plain"> </span><span class="token-method">componentWillMount</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-number">2.</span><span class="token-plain"> </span><span class="token-method">componentWillUpdate</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-number">3.</span><span class="token-plain"> </span><span class="token-method">componentWillReceiveProps</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div></div></code></pre><p class="cs-subtitle css-1qwhhjz" style="opacity:0"><span style="opacity:1"></span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-tr3ugc" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-1ofehn3" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-number">2.</span><span class="token-plain"> </span><span class="token-method">componentWillUpdate</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-number">3.</span><span class="token-plain"> </span><span class="token-method">componentWillReceiveProps</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div></div></code></pre><p class="cs-subtitle css-1qwhhjz" style="opacity:1"><span style="opacity:1">render 發生之前、state 更新之前、prop 更新之前</span></p></div></div></div></div></div><div class="css-nsyrzn"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-tr3ugc" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-1ofehn3" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-function">componentWillUpdate</span><span class="token-punctuation">(</span><span class="token-parameter">nextProps</span><span class="token-punctuation">,</span><span class="token-parameter"> nextState</span><span class="token-punctuation">,</span><span class="token-parameter"> nextContext</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">    </span><span class="token-keyword">const</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain">empId</span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-property-access">props</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">    </span><span class="token-keyword">if</span><span class="token-punctuation">(</span><span class="token-plain">empId </span><span class="token-operator">!=</span><span class="token-plain"> nextProps</span><span class="token-punctuation">.</span><span class="token-property-access">empId</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">        </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-method">_loadPhoto</span><span class="token-punctuation">(</span><span class="token-plain">nextProps</span><span class="token-punctuation">.</span><span class="token-property-access">empId</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-punctuation">}</span></div></div><div></div></code></pre><p class="cs-subtitle css-1qwhhjz" style="opacity:0"><span style="opacity:1"></span></p></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-tr3ugc" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-1ofehn3" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-function">componentWillUpdate</span><span class="token-punctuation">(</span><span class="token-parameter">nextProps</span><span class="token-punctuation">,</span><span class="token-parameter"> nextState</span><span class="token-punctuation">,</span><span class="token-parameter"> nextContext</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-punctuation">}</span></div></div><div></div></code></pre><p class="cs-subtitle css-1qwhhjz" style="opacity:1"><span style="opacity:1">通常可以用 componentDidUpdate() 取代</span></p></div></div></div></div></div><div class="css-nsyrzn"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-tr3ugc" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-1ofehn3" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-number">1.</span><span class="token-plain"> </span><span class="token-method">componentWillMount</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-number">2.</span><span class="token-plain"> </span><span class="token-method">componentWillUpdate</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-number">3.</span><span class="token-plain"> </span><span class="token-method">componentWillReceiveProps</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span></div></div><div></div></code></pre></div></div></div></div></div><div class="css-nsyrzn"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-tr3ugc" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-1ofehn3" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">}</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">需要在某個 prop 改變時 執行一個相對應的 side effect</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">在某個 prop 改變時「重置」某個 state</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-tr3ugc" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-1ofehn3" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:0.3"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">需要在某個 prop 改變時 執行一個相對應的 side effect</span></div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">    - 建立一個完全被控制 的 component 或帶有 key 的完全被控制 component</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-tr3ugc" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-1ofehn3" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;transform:translateX(250px);height:0;opacity:0"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-tag">              </span><span class="token-attr-name">onChange</span><span class="token-punctuation">=</span><span class="token-attr-value">{props.onChange}</span></div></div><div style="overflow:hidden"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">    - 建立一個完全被控制 的 component 或帶有 key 的完全被控制 component</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-tr3ugc" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-1ofehn3" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-tag">              </span><span class="token-attr-name">onChange</span><span class="token-punctuation">=</span><span class="token-attr-value">{props.onChange}</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">}</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-tr3ugc" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-1ofehn3" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-tag">              </span><span class="token-attr-name">onChange</span><span class="token-punctuation">=</span><span class="token-attr-value">{props.onChange}</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">}</span></div></div><div></div></code></pre></div></div></div></div></div><div class="css-nsyrzn"><div style="width:100vw;max-width:100%;height:100vh;display:flex;flex-direction:column;justify-content:center;align-items:center" class="cs-layout"><div style="overflow:auto;height:100%;width:100%"><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-tr3ugc" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-1ofehn3" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-0"><span class="token-keyword">class</span><span class="token-plain"> </span><span class="token-class-name">EmailInput</span><span class="token-plain"> </span><span class="token-keyword">extends</span><span class="token-plain"> </span><span class="token-class-name">Component</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-1"><span class="token-plain">  state </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-punctuation">{</span><span class="token-plain"> email</span><span class="token-operator">:</span><span class="token-plain"> </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-property-access">props</span><span class="token-punctuation">.</span><span class="token-property-access">defaultEmail</span><span class="token-plain"> </span><span class="token-punctuation">}</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-3"><span class="token-plain">  </span><span class="token-function-variable">handleChange</span><span class="token-plain"> </span><span class="token-operator">=</span><span class="token-plain"> </span><span class="token-parameter">event</span><span class="token-plain"> </span><span class="token-arrow">=&gt;</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-4"><span class="token-plain">    </span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-method">setState</span><span class="token-punctuation">(</span><span class="token-punctuation">{</span><span class="token-plain"> email</span><span class="token-operator">:</span><span class="token-plain"> event</span><span class="token-punctuation">.</span><span class="token-property-access">target</span><span class="token-punctuation">.</span><span class="token-property-access">value</span><span class="token-plain"> </span><span class="token-punctuation">}</span><span class="token-punctuation">)</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-5"><span class="token-plain">  </span><span class="token-punctuation">}</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-6"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-7"><span class="token-plain">  </span><span class="token-function">render</span><span class="token-punctuation">(</span><span class="token-punctuation">)</span><span class="token-plain"> </span><span class="token-punctuation">{</span></div></div><div style="overflow:hidden;opacity:1"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">    </span><span class="token-keyword">return</span><span class="token-plain"> </span><span class="token-operator">&lt;</span><span class="token-plain">input onChange</span><span class="token-operator">=</span><span class="token-punctuation">{</span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-property-access">handleChange</span><span class="token-punctuation">}</span><span class="token-plain"> value</span><span class="token-operator">=</span><span class="token-punctuation">{</span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-property-access">state</span><span class="token-punctuation">.</span><span class="token-property-access">email</span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-operator">/</span><span class="token-operator">&gt;</span><span class="token-punctuation">;</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-9"><span class="token-plain">  </span><span class="token-punctuation">}</span></div></div><div style="overflow:hidden;height:100px;opacity:1;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-10"><span class="token-punctuation">}</span></div></div><div></div></code></pre></div></div><div style="overflow:auto;height:100%;width:100%"><div class="cs-container" style="width:100%;height:100%;max-height:100%;position:relative"><pre class="cs-content css-tr3ugc" style="margin:0;height:100%;overflow:hidden"><code class="cs-scaled-content css-1ofehn3" style="display:block;height:100%;transform:scale(1);transform-origin:center 0px"><div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-2"><span class="token-plain">​</span></div></div><div style="overflow:hidden;height:100px;opacity:0.3;transform:translateX(0px)"><div style="display:inline-block" class="cs-line cs-line-8"><span class="token-plain">    </span><span class="token-keyword">return</span><span class="token-plain"> </span><span class="token-operator">&lt;</span><span class="token-plain">input onChange</span><span class="token-operator">=</span><span class="token-punctuation">{</span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-property-access">handleChange</span><span class="token-punctuation">}</span><span class="token-plain"> value</span><span class="token-operator">=</span><span class="token-punctuation">{</span><span class="token-keyword">this</span><span class="token-punctuation">.</span><span class="token-property-access">state</span><span class="token-punctuation">.</span><span class="token-property-access">email</span><span class="token-punctuation">}</span><span class="token-plain"> </span><span class="token-operator">/</span><span class="token-operator">&gt;</span><span class="token-punctuation">;</span></div></div><div></div></code></pre></div></div></div></div></div><div class="css-nsyrzn"><h2 class="css-1djqpdg">memory leaks</h2></div><div class="css-nsyrzn"><p class="css-0">(範例)</p></div><div class="css-nsyrzn"><h2 class="css-1djqpdg">insertBefore</h2></div><div class="css-nsyrzn"><p class="css-0">(範例)</p></div></div></div></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/print";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"app":["/app-4154b29252172f1ecf4c.js"],"component---node-modules-gatsby-theme-mdx-deck-src-templates-deck-js":["/component---node-modules-gatsby-theme-mdx-deck-src-templates-deck-js-9c158c4cd2573c0d89a4.js"]};/*]]>*/</script><script src="/slides/webpack-runtime-59be95610d4d5d8951b4.js" async=""></script><script src="/slides/app-4154b29252172f1ecf4c.js" async=""></script><script src="/slides/commons-95f555412797381d7b07.js" async=""></script><script src="/slides/component---node-modules-gatsby-theme-mdx-deck-src-templates-deck-js-9c158c4cd2573c0d89a4.js" async=""></script></body></html>